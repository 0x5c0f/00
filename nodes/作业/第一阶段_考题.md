第一阶段的20题目无答案

1、 使用alias   配置 别名，实现在命令行输入 host1  ，ssh 直接远程连接到host1 (172.16.100.1)，输入host2 ，则，直接ssh 连接到host2(172.16.100.2) ，这里的host 请大家根据自己的实际环境，改成自己的ip地址即可,账户验证采用密钥验证
```bash
$> alias host1="ssh -i /path/私钥1.pem root@172.16.100.1 " 
$> alias host2="ssh -i /path/私钥2.pem root@172.16.100.2 "  

$> vim ~/.bash_profile
# 添加
alias host1="ssh -i /path/私钥1.pem root@172.16.100.1 " 
alias host2="ssh -i /path/私钥2.pem root@172.16.100.2 "  

```



2、 简述相对路径跟绝对路径的区别

- 绝对路径: 指由路径起始目录为`/`
- 相对路径：指起始路径为当前目录  


3、/etc初始化系统重要文件代表的含义
- 一般存储为系统重要的配置文件
  - `/etc/hosts`: dns解析 
  - `/etc/sysconfig/network-scripts/ifcfg-ethx`: 网卡配置文件 
  - 等等.. 


4、如果一个文件正在被某个进程调用，而用户却执行rm把文件删除了，那么会出现什么结果？当用户执行rm删除文件后，再执行ls或其他文件管理命令，无法再找到这个文件了，但是调用这个删除的文件的进程却在继续正常执行，依然能够从文件中正确的读取及写入内容，这又是为什么呢？  

- linux执行是将程序读取到内存中执行的。


5、当文件没有被调用，执行了rm操作之后，还能找回被删除的文件吗？
- 正常情况时不可被找回的，不过可以通过一些特殊手段进行找回 

6、web服务器磁盘空间不够了，删除了所有无用日志还是显示磁盘空间不足，但是du -sh发现磁盘空间的占用率很小，这是为什么呢？是什么导致磁盘空间不足？
- inode占用过高，一般来说是由于小文件导致，比如邮件


7、在linux 上有三个文件，1.txt 2.tgz 3.pptx  但是这三个文件的md5sum 值一样，请问这 三个文件是同一类型的文件吗
- md5一样，文件则是一样的，与名字无关    


8、请列出常见的通配符
- `.`、`*`、`+`、`?`  


10、显示文件类型用那个命令
- `file`


11，显示文件状态信息
- `stat`  


12、Centos7忘记root密码怎么办
- 切换到当用户模式进行修改    


13、显示可用于查看当前登录的用户
- `whoami`命令 


14、显示当前以登录的用户，如果黑客接入自己的电脑，并且正在远程执行了一个恶意代码，如何查看
- `w`命令 


15、linux 服务器遭到攻击，运行了很多恶意脚本，但是经过你的慧眼，找到了他的代码地址，名字为 Coronavirus.sh   大致意思是新冠状病毒，但是执行rm 命令，报了如下错误，应该如何解决
[root@host1 ～]# rm -rf Coronavirus.sh
rm: cannot remove 'Coronavirus.sh': Operation not permitted

- 可能是因为设置了特殊权限: 使用`lsattr`查看是否有`-i`权限，有`chattr -i`移除，然后在删掉文件   

16、请阐述内存跟磁盘的区别
- 内存临时存储 
- 磁盘永久存储数据 

17、/etc/passwd字段信息解释
```bash
root:x:0:0:root:/root:/bin/bash
用户名:密码:uid:gid:描述:用户主目录:用户所使用的shell

```

18、 运维 7*24 代表的含义，
```
7x24小时保证网站服务正常运行 
```


19、请阐述下边的报错的愿意，以及阐述第一列到第十列的含义
```
第一列：文件inode 
第二列：为文件还是目录，以及其权限
第三列：文件硬连接数 
第四到五列：所属用户名，用户组
第6列：文件大小  
第7-9：巍峨你建安创建时间 
第10：文件名 
```

20. 请阐述运维最重要的价值观
- 保证维护服务永不离线。。



第一阶段的20题目以及答案

1、 使用alias   配置 别名，实现在命令行输入 host1  ，ssh 直接远程连接到host1 (172.16.100.1)，输入host2 ，则，直接ssh 连接到host2(172.16.100.2) ，这里的host 请大家根据自己的实际环境，改成自己的ip地址即可,账户验证采用密钥验证

alias   host1 = "ssh root@172.16.100.1 -i  xxx.pem"
2、 简述相对路径跟绝对路径的区别
 相对路径： 当前路径使用. 表示，上一级路径用../表示，上上级路径就是../../，下一级目录为./  相对路径表达的意思就是基于当前路径，查找跟当前路径，靠前，或者靠后的路径，使用./  ../ 可以节省代码数量

绝对路径： 就是任何一个目录，或者位置，都是基于根目录的路径
两个的区别就是，一个是基于当前目录来描述附近的前后的目录结构，一个是基于跟目录来描述具体的一个位置，或者路径
3、/etc初始化系统重要文件代表的含义
/etc/sysconfig/network-scripts/ifcfg-eth0:网卡配置文件
/etc/resolv.conf:Linux系统DNS客户端配置文件
/etc/hostname (CentOS7) /etc/sysconfig/network:(CentOS 6)主机名配置文件
/etc/hosts:系统本地的DNS解析文件
/etc/fstab:配置开机设备自动挂载的文件
/etc/rc.local:存放开机自启动程序命令的文件
/etc/inittab:系统启动设定运行级别等配置的文件
/etc/profile及/etc/bashrc:配置系统的环境变量/别名等的文件
/etc/profile.d:用户登录后执行的脚本所在的目录
/etc/issue和/etc/issue.net:配置在用户登录终端前显示信息的文件
/etc/init.d:软件启动程序所在的目录(centos 6)
/usr/lib/systemd/system/ 软件启动程序所在的目录(centos 7)
/etc/motd:配置用户登录系统之后显示提示内容的文件
/etc/redhat-release:声明RedHat版本号和名称信息的文件
/etc/sysctl.conf:Linux内核参数设置文件

4、如果一个文件正在被某个进程调用，而用户却执行rm把文件删除了，那么会出现什么结果？当用户执行rm删除文件后，再执行ls或其他文件管理命令，无法再找到这个文件了，但是调用这个删除的文件的进程却在继续正常执行，依然能够从文件中正确的读取及写入内容，这又是为什么呢？

 rm操作只是将文件的i_nlink减少了，如果没有其它的链接i_nlink就为0了。但是由于该文件依然被进程引用，因此，此时文件对应的i_count并不为0，所以执行rm操作，系统并没有真正的删除这个文件，只有当i_nlink和i_count都为0的时候，这个文件才会被真正的删除。也就是说，必须要解除该进程对该文件的调用，才能真正的删除。

5、当文件没有被调用，执行了rm操作之后，还能找回被删除的文件吗？
rm操作只是将文件的i_nlink减少了，或者说置为0，实际上就是将inode的链接删除了，此时，并没有删除文件的实体（block数据块），此时，如果及时停止机器工作，数据是可以找回的，如果继续写入数据，那么新数据可能会被分配到被删除的数据的block数据块，文件就被真正的回收了。
实际遇到的问题
6、web服务器磁盘空间不够了，山除了所有无用日志还是显示磁盘空间不足，但是du -sh发现磁盘空间的占用率很小，这是为什么呢？是什么导致磁盘空间不足？
删除命令只是删除了文件的一个i_nlink,但是其他进程正在使用这些log文件，apache或tomat,重启这些服务就好啦！
7、在linux 上有三个文件，1.txt 2.tgz 3.pptx  但是这三个文件的md5sum 值一样，请问这 三个文件是同一类型的文件吗
是的，首先在Linux 上并不会基于文件名后缀来确定一个文件的类型，只是一个标示而已，文件类型是基于文件的属性来区分的
8、请列出常见的通配符
常见通配符
符号        作用
*        匹配任意，0或多个字符，字符串
?        匹配任意1个字符，有且只有一个字符
符号集合        匹配一堆字符或文本
[abcd]        匹配abcd中任意一个字符，abcd也可以是不连续任意字符
[a-z]        匹配a到z之间任意一个字符，要求连续字符，也可以连续数字，匹配[1-9]
[!abcd]        不匹配括号中任意一个字符，也可以书写[!a-d]，同于写法
[^abcd]        同上，！可以换成 ^

特殊通配符
符号        作用
[[:upper:]]        所有大写字母
[[:lower:]]        所有小写字母
[[:alpha:]]        所有字母
[[:digit:]]        所有数字
[[:alnum:]]        所有的字母和数字
[[:space:]]        所有的空白字符
[[:punct:]]        所有标点符号
10、显示文件类型用那个命令
file
11，显示文件状态信息
stat
12、Centos7忘记root密码怎么办

第一，重启linux，进入系统的GRUB菜单界面，按下小写字母e进入编辑界面

第二，按下方向键，找到以字符串Linux16开头的行，光标移动到结尾，然后输入init=/bin/bash enforcing=0
代表登录系统后，加载bash解释器，然后关闭selinux

第三，按下ctrl+x组合键以单用户模式启动Linux
第四，输入如下命令，重新挂载根目录，进入可写状态，因为默认单用户模式是只读的
mount -o rw,remount / #重新挂载
passwd root                        #修改密码
exec /sbin/init                #重启
第五，更改完毕密码后,重启系统
如果在第二步，没有添加enforcing参数的话，则需要额外的再添加命令
touch /.autorelabel 
告诉系统下次启动重新标记系统所有相关文件，因为selinux在开启时，修改root密码引发安全报错
如果加了enforcing=0，则代表关闭了selinux，不需要再创建 /.autorelabel文件了
第六，重启机器，验证新的密码

13、显示可用于查看当前登录的用户
whoami


14、显示当前以登录的用户，如果黑客接入自己的电脑，并且正在远程执行了一个恶意代码，如何查看
w  # 显示当前的登陆用户，以及用户执行的命令，以及远程ip地址，以及登陆的时间
last、lastlog命令查看用户详细的登录信息
lastlog命令显示当前机器所有用户最近的登录信息
last命令显示已登录的用户列表和登录时间


15、linux 服务器遭到攻击，运行了很多恶意脚本，但是经过你的慧眼，找到了他的代码地址，名字为 Coronavirus.sh   大致意思是新冠状病毒，但是执行rm 命令，报了如下错误，应该如何解决
[root@host1 ～]# rm -rf Coronavirus.sh
rm: cannot remove 'Coronavirus.sh': Operation not permitted
答案：
chattr -i Coronavirus.sh

16、请阐述内存跟磁盘的区别

内存读写速度块，设备非常轻，一般是一个长条薄片,数据写入一般会先写到内存，在刷到磁盘中，断电，内存中国数据消失
磁盘读写性能差，但是可以永久保存数据，断电不丢数据，一般读数据，从先从磁盘中把热点数据预热到内存中，才供程序查询
17、/etc/passwd字段信息解释
字段名        解释
用户名        对应UID，是用户登录系统的名字，系统中唯一不得重复
用户密码        存放在/etc/shadow文件中进行保护密码
用户UID        用户ID号，由一个整数表示
用户组GID        范围、最大值和UID一样，默认创建用户会创建用户组
用户说明        对此用户描述
用户家目录        用户登录后默认进去的家目录，一般是【/home/用户名】
shell解释器        当前登录用户使用的解释器。centos/redhat系统中，默认的都是bash。若是禁止此用户登录机器，改为/sbin/nologin即可
18、 运维 7*24 代表的含义，
代表的7*24 小时，服务器不宕机，业务正常运转，也代表运维责任重大

19、请阐述下边的报错的愿意，以及阐述第一列到第十列的含义

图解：
Inode索引节点号，（人的身份证，家庭地址等信息，唯一），系统寻找文件名 > Inode号 > 文件内容
文件权限，第一个字符是文件类型，随后9个字符是文件权限，最后一个. 有关selinux
文件硬链接数量，与ln命令配合
文件所属用户
文件所属用户组
文件目录大小
文件修改时间
文件名
20. 请阐述运维最重要的价值观
稳重，责任等等
